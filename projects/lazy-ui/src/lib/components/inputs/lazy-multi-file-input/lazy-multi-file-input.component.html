<input
  formControlName="{{controlName}}"
  hidden
  type="file"
  multiple
  accept="{{fileType}}"
  class="file-input"
  (change)="triggerFileSelect($event); setErrorMessage();"
  (click)="setErrorMessage()"
  (blur)="setErrorMessage()"
  #fileUpload>
<ng-container *ngIf="style === 'upload-button'">
  <div class="file-upload">
    <button type="button" mat-mini-fab class="upload-btn"
            (click)="fileUpload.click()">
      <mat-icon class="upload-icon">{{matIcon}}</mat-icon>
    </button>
    <div class="file-upload-text" (click)="fileUpload.click()">
      {{name}}<span *ngIf="required" class="required">*</span>
    </div>
    <div (click)="removeAllFiles(); setErrorMessage()" class="reset-icon-container"><mat-icon class="reset-icon">restart_alt</mat-icon></div>
  </div>
  <div>{{maxSizeDescription}}</div>
  <ng-container *ngIf="control?.value">
    <div class="selected-files" *ngFor="let selectedFile of selectedFileArray">
      <div>{{selectedFile.name}}</div>
      <mat-icon (click)="removeFile(selectedFile.name); setErrorMessage()" class="icon">cancel</mat-icon>
    </div>
  </ng-container>
  <div *ngIf="!isControlValid()" class="error-msg">{{errorMessage}}</div>
</ng-container>
<ng-container *ngIf="style === 'upload-area'">
  <div>
    <div class="max-upload-size">
      <div>{{maxSizeDescription}}</div>
      <div (click)="removeAllFiles()" class="reset-icon-container"><mat-icon class="reset-icon">restart_alt</mat-icon></div>
    </div>
    <div class="upload-file-container">
      <div class="upload-file" (click)="fileUpload.click()">
        <mat-icon class="upload-file-icon">{{matIcon}}</mat-icon>
        <div class="upload-file-text">
          {{name}}<span *ngIf="required" class="required">*</span>
        </div>
      </div>
      <ng-container *ngIf="control?.value">
        <div class="selected-files" *ngFor="let selectedFile of selectedFileArray">
          <div>{{selectedFile.name}}</div>
          <mat-icon (click)="removeFile(selectedFile.name); setErrorMessage()" class="icon">cancel</mat-icon>
        </div>
      </ng-container>
      <div *ngIf="!isControlValid()" class="error-msg">{{errorMessage}}</div>
    </div>
  </div>
</ng-container>
